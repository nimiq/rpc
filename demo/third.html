<input type="text" id="input"/>
<button id="ok">Confirm</button>
<script type="module">
    import {RpcServer} from "../dist/RpcServer.js";

    const server = new RpcServer('*');
    server.onRequest('test', (state, arg) => {
        return new Promise((resolve, reject) => {
            document.getElementById('ok').onclick = () => {
                resolve(`received ${arg}, entered ${document.getElementById('input').value}`);
            };
        });
    });
    server.init();
</script>
